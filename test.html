<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./assets/style.css">
  </head>
  <body>
<div class="container">
<h2>Sign Up</h2>
    <form action="">
      <input type="text" id="username" placeholder="Username" />
      <p class="user_err"></p>

      <input type="text" class="" id="password" placeholder="Password" />
      <p class="user_pass"></p>
      <button id="btn_reg" type="button" class="btn_reg">Đăng nhập</button>
      <a href="./register.html">Đăng Ký</a>
    </form>
  </div>

    <script>
      const users = [
        {
          username: "admin",
          password: "123456",
        },
        {
          username: "admin_1",
          password: "123456",
        },
      ];
      if (!localStorage.getItem("USERS")) {
        localStorage.setItem("USERS", JSON.stringify(users));
        // 1. Đẩy dữ liệu lên localStorage
      }
      localStorage.getItem("USERS");
      let localuser = JSON.parse(localStorage.getItem("USERS"));
      console.log(localuser);

      const eleUsername = document.querySelector("#username");
      const elePassword = document.querySelector("#password");
      const eleBtnLogin = document.querySelector(".btn_login");

      function handleLogin() {
        console.log(eleUsername.value);
        console.log(elePassword.value);
        for (let i = 0; i < localuser.length; i++) {
          console.log(localuser[i].username);
          console.log(localuser[i].password);
          if (
            eleUsername.value == localuser[i].username &&
            elePassword.value == localuser[i].password
          ) {
            console.log("Cho phép đăng nhập");

            window.location.href = "index.html";
          }
        }
      }

      document.addEventListener("click", handleLogin);
    </script>
  </body>
</html>
