<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./assets/style.css">
  </head>
  <body>
<div class="container">
  <h2>Sign Up</h2>
    <form action="">
      <input type="text" id="fullname" placeholder="Fullname" />
      <p class="user_fn"></p>

      <input type="text" id="username" placeholder="Username" />
      <p class="user_err"></p>

      <input type="text" class="" id="password" placeholder="Password" />
      <p class="user_pass"></p>

      <input type="text" id="conf_password" placeholder="Confirm Password" />
      <p class="user_cfpass"></p>

      <button id="btn_reg" type="button" class="btn_reg">Đăng ký</button>
    </form>

    <!-- <script>
      const dataUser = [
        {
          fullname: "Học sinh A",
          username: "hsa",
          password: "123",
        },
        {
          fullname: "Học sinh D",
          username: "hsd",
          password: "123",
        },
        {
          fullname: "Học sinh C",
          username: "hsc",
          password: "123",
        },
      ];

      if (!localStorage.getItem("DATA_USER")) {
        localStorage.setItem("DATA_USER", JSON.stringify(dataUser));
      }

      let dataLocalUser = JSON.parse(localStorage.getItem("DATA_USER"));

      const valueBtn = document.querySelector(".btn_login");

      function handleLogin() {
        const valueUser = document.querySelector(".username").value;
        const valuePass = document.querySelector(".password").value;
        console.log(valueUser);

        for (let i = 0; i < dataLocalUser.length; i++) {
          if (
            valueUser == dataLocalUser[i].username &&
            valuePass == dataLocalUser[i].password
          ) {
            window.location.href = "index.html";
          }
          //   console.log(dataLocalUser[i].username);
          //   console.log(dataLocalUser[i].password);
        }
      }

      valueBtn.addEventListener("click", handleLogin);
    </script> -->

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
      } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBRsYiJX-i97pt7gmg0t0fRrJiKPYmtn_s",
        authDomain: "jsi36-a45bc.firebaseapp.com",
        projectId: "jsi36-a45bc",
        storageBucket: "jsi36-a45bc.firebasestorage.app",
        messagingSenderId: "346562660239",
        appId: "1:346562660239:web:18be6a1d29bd8d600dedfa",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      const getauth = getAuth(app);

      const btn_reg = document.querySelector(".btn_reg");
      console.log(btn_reg);
      function handleReg() {
        const valueUser = document.querySelector("#username").value;
        const valuePass = document.querySelector("#password").value;
        createUserWithEmailAndPassword(getauth, valueUser, valuePass)
          .then((item) => {
            console.log(item);
            window.location.href = "index.html";
          })
          .catch((err) => {
            console.log(err.message);
          });
      }
      btn_reg.addEventListener("click", handleReg);
    </script>
    </div>
  </body>
</html>
